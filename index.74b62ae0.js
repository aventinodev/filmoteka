async function e(e){try{const t=await fetch(`https://api.themoviedb.org/3/trending/movie/day?api_key=31449444226ba6345698313fe055564a&page=${e}`);return await t.json()}catch(e){throw new Error(response.status)}}const t={gallery:document.querySelector(".gallery"),genresList:document.querySelector(".genres__list")};(async function(){try{const e=await fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=31449444226ba6345698313fe055564a&language=en-US");return(await e.json()).genres}catch(e){throw new Error(response.status)}})().then((e=>{localStorage.setItem("genresData",JSON.stringify(e))}));const n=localStorage.getItem("genresData"),a=JSON.parse(n);function s({id:e,title:t,poster_path:n,release_date:s,genre_ids:r}){const i=r.map((e=>{const t=a.find((t=>t.id===e));return e=t.name}));return`<li class="gallery__card id="${e}">\n            <div class="gallery_img-wrap">\n              <img\n                class="gallery__img"\n                src="https://image.tmdb.org/t/p/w300/${n}"\n                alt="${t}"\n                loading="lazy"\n                width="395"\n                height="569"\n                              />\n            </div>\n            <div class="gallery__info-wrap">\n            <h2 class="gallery__title">${t}</h2>\n            <div class="gallery__info">\n              <ul class="genres__list">\n                <li class="genres__item">${i}</li>\n              </ul>\n              <p class="gallery__year">${s.split("-")[0]}</p>\n            </div>\n            </div>\n          </li>`}function r(e){const n=e.map(s).join("");return t.gallery.innerHTML=n}!async function(){try{const t=await e(1);r(t.results)}catch(e){console.log(e)}}();
//# sourceMappingURL=index.74b62ae0.js.map
