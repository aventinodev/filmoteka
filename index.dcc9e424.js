async function e(e){try{const r=await fetch(`https://api.themoviedb.org/3/trending/movie/day?api_key=31449444226ba6345698313fe055564a&page=${e}`);return await r.json()}catch(e){throw new Error(response.status)}}const r={gallery:document.querySelector(".gallery"),genresList:document.querySelector(".genres__list"),card:document.querySelector(".gallery__card"),header:document.querySelector(".header"),pageHome:document.querySelector("#home"),pageLibrary:document.querySelector("#library"),form:document.querySelector(".header__wrap--form"),btnLibrary:document.querySelector(".header__wrap--btn"),headerWrap:document.querySelector(".header__wrap")};(async function(){try{const e=await fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=31449444226ba6345698313fe055564a&language=en-US");return(await e.json()).genres}catch(e){throw new Error(response.status)}})().then((e=>{localStorage.setItem("genresData",JSON.stringify(e))}));const a=localStorage.getItem("genresData"),t=JSON.parse(a);function n({id:e,title:r,poster_path:a,release_date:n,genre_ids:s}){const i=s.map((e=>{const r=t.find((r=>r.id===e));return e=r.name}));return`<li class="gallery__card id="${e}">\n  <a class="gallery__link" href="#">\n            <div class="gallery__img-wrap">\n              <img\n                class="gallery__img"\n                src="https://image.tmdb.org/t/p/w300/${a}"\n                alt="${r}"\n                loading="lazy"\n                width="395"\n                height="569"\n                              />\n            </div>\n           \n          <div class="gallery__info-wrap">            \n            <h2 class="gallery__subtitle text-hidden">${r}</h2>            \n            <div class="gallery__info">\n             <p class="gallery__genres text-hidden">${i.length>3?i.slice(0,2).join(", "):i.join(", ")}</p>                      \n             <p class="gallery__year">${n.split("-")[0]}</p>\n            </div>           \n          </div>\n           </a> \n          </li>`}function s(e){const a=e.map(n).join("");return r.gallery.innerHTML=a}function i(){r.pageHome.classList.add("current")}function l(){i(),r.pageLibrary.classList.remove("current")}r.pageLibrary.addEventListener("click",(function(e){!function(){r.pageHome.classList.contains("current")&&(r.pageHome.classList.toggle("current"),r.header.classList.remove("header--home"),r.pageLibrary.classList.add("current"),r.header.classList.add("header--library"),r.form.classList.add("visually-hidden"),r.btnLibrary.classList.remove("visually-hidden"));if(l);}()})),r.pageHome.addEventListener("click",l),i();!async function(){try{const r=await e(1);s(r.results)}catch(e){console.log(e)}}();
//# sourceMappingURL=index.dcc9e424.js.map
